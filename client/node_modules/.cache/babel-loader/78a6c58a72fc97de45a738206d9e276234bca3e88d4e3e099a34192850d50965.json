{"ast":null,"code":"var _jsxFileName = \"/Users/yemiarimoro/Development/code/Chat-app/Chat-app/client/src/Components/ChatRoom.js\",\n  _s = $RefreshSig$();\nimport { useContext, useEffect, useState } from \"react\";\nimport UserContext from \"./UserContext\";\nimport { HashLink as Link } from \"react-router-hash-link\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChatRoom(_ref) {\n  _s();\n  let {\n    id,\n    handleFormSubmit,\n    handleOnChange,\n    formBody,\n    handleOnDelete,\n    isEditing,\n    handleOnClickButton\n  } = _ref;\n  const [chatsRoom, setChatsRoom] = useState([]);\n  useEffect(() => {\n    fetch(`http://localhost:5555/messages/conversations/${parseInt(id)}`).then(res => res.json()).then(data => {\n      if (chatsRoom !== data) {\n        setChatsRoom(data);\n      }\n    });\n  }, [id, chatsRoom]);\n\n  // console.log(formBody);\n  const chatName = id && chatsRoom && [...chatsRoom].map(el => el.conversation.conversation_name)[0];\n  const {\n    currentUser\n  } = useContext(UserContext);\n  const roomChats = chatsRoom && chatsRoom.map(chat => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: parseInt(chat.id),\n      style: {\n        width: 500,\n        flex: 1,\n        backgroundColor: 'black'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          color: \"white\"\n        },\n        children: [chat.created_at, \"  \", chat.user.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: chat.user.avatar,\n        alt: chat.user.name,\n        width: 30\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontSize: 20,\n          color: \"white\"\n        },\n        children: chat.content_data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          alignContent: \"flex-end\"\n        },\n        children: [currentUser.id === chat.user_id ? /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"edit\",\n          chat: chat,\n          onClick: () => handleOnClickButton(chat),\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"#editForm\",\n            smooth: true,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              role: \"img\",\n              \"aria-label\": \"edit\",\n              children: isEditing ? \"stopEdit\" : \"edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 17\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n          chat: chat,\n          onClick: () => handleOnDelete(chat),\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"delete\",\n            children: \"\\uD83D\\uDDD1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)]\n    }, chat.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 15\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: [\"Conversation name is \", chatName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: roomChats\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      styles: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"new-message\",\n        id: \"editForm\",\n        onSubmit: e => handleFormSubmit(e),\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          name: \"content_data\",\n          autoComplete: \"off\",\n          value: formBody.content_data,\n          onChange: e => handleOnChange(e),\n          styles: {\n            width: 550\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n}\n_s(ChatRoom, \"aRlAslLS7DsjcDp931f8pplujs8=\");\n_c = ChatRoom;\n;\nexport default ChatRoom;\nvar _c;\n$RefreshReg$(_c, \"ChatRoom\");","map":{"version":3,"names":["useContext","useEffect","useState","UserContext","HashLink","Link","jsxDEV","_jsxDEV","ChatRoom","_ref","_s","id","handleFormSubmit","handleOnChange","formBody","handleOnDelete","isEditing","handleOnClickButton","chatsRoom","setChatsRoom","fetch","parseInt","then","res","json","data","chatName","map","el","conversation","conversation_name","currentUser","roomChats","chat","style","width","flex","backgroundColor","children","display","alignItems","justifyContent","color","created_at","user","name","fileName","_jsxFileName","lineNumber","columnNumber","src","avatar","alt","fontSize","content_data","alignContent","user_id","type","className","onClick","to","smooth","role","styles","onSubmit","e","autoComplete","value","onChange","_c","$RefreshReg$"],"sources":["/Users/yemiarimoro/Development/code/Chat-app/Chat-app/client/src/Components/ChatRoom.js"],"sourcesContent":["\nimport {  useContext, useEffect, useState } from \"react\";\nimport UserContext from \"./UserContext\";\n\n\n\nimport{HashLink as Link} from \"react-router-hash-link\";\n\n\nfunction ChatRoom({id, handleFormSubmit, handleOnChange, formBody, handleOnDelete, isEditing, handleOnClickButton}){\n\n    const [chatsRoom, setChatsRoom] = useState([])\n\n    useEffect(() =>{\n\t\tfetch(`http://localhost:5555/messages/conversations/${parseInt(id)}`)\n\t\t.then((res) => res.json())\n\t\t.then((data) =>{\n            if(chatsRoom !== data){setChatsRoom(data)}});\n\t},[id, chatsRoom]);\n \n    // console.log(formBody);\n    const chatName = id && chatsRoom && [...chatsRoom].map((el)=>el.conversation.conversation_name)[0];\n    const {currentUser} = useContext(UserContext)\n\n    const roomChats = chatsRoom && chatsRoom.map((chat)=> {\n        return(  \n       \n              <div key= {chat.id} id={parseInt(chat.id)}   style={{\n                width: 500,\n                flex:1,\n                backgroundColor: 'black',\n              }}>\n                <h4 style={{display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center', color:\"white\"}}>{chat.created_at}  {chat.user.name}</h4>\n                <img src={chat.user.avatar} alt={chat.user.name} width={30} />\n                <p style={{fontSize: 20, color:\"white\"}}>{chat.content_data}</p>\n                <div style={{alignContent:\"flex-end\"}}>\n                {currentUser.id === chat.user_id?\n                <button type=\"button\" className=\"edit\" chat={chat} onClick={()=>handleOnClickButton(chat)} >\n                <Link  to=\"#editForm\" smooth  >\n                <span role=\"img\" aria-label=\"edit\">\n                    {isEditing ? \"stopEdit\" : \"edit\"}\n                </span>\n                </Link>\n                </button> \n                : null}\n              \n                <button chat={chat} onClick={() =>handleOnDelete(chat)} >\n                    <span role=\"img\" aria-label=\"delete\">\n                    ðŸ—‘\n                    </span>\n                </button >\n                </div>\n                \n                </div>\n      \n               \n        )})\n      \n\n\n    return (\n        <div >\n       <h2 style={{display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center', }}>Conversation name is {chatName}</h2>\n        <section style={{display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',}}>\n        \n        <ul>{roomChats}</ul>\n           \n      \n        </section>\n        <section styles={{ display:'flex', alignItems: 'center',\n            justifyContent: 'center', }}>\n        <form className=\"new-message\" id=\"editForm\" onSubmit={(e)=>handleFormSubmit(e)}   style={{display:'flex',\n            alignItems: 'center', \n            justifyContent: 'center', \n       \n           }}>\n        <textarea \n            type=\"text\"\n            name=\"content_data\"\n            autoComplete=\"off\"\n            value={formBody.content_data}\n            onChange={(e) => handleOnChange(e)} styles={{width: 550}} />\n        <button type=\"submit\">send</button>\n        </form>\n        </section>\n        </div>\n    )\n};\n\nexport default ChatRoom;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}