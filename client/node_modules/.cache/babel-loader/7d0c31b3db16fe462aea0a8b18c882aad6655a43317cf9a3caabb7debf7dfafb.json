{"ast":null,"code":"import _slicedToArray from\"/Users/yemiarimoro/Development/code/Chat-app/Chat-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useNavigate}from\"react-router-dom\";import{useState,useContext}from\"react\";import{useFormik}from\"formik\";import UserContext from\"./UserContext\";import*as yup from\"yup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Signup(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),signUp=_useState2[0],setSignUp=_useState2[1];var _useContext=useContext(UserContext),currentUser=_useContext.currentUser;// 8a. create state error\nvar navigate=useNavigate();function toggleSignup(){setSignUp(function(prev){return!prev;});};var formSchema=yup.object().shape({username:yup.string().required(),password:yup.string().required(),name:yup.string().required(),avatar:yup.string().required(),background:yup.string().min(20,\"must be more!\").max(800,\"must be less than!\").required()});var formik=useFormik({initialValues:{name:\"\",username:\"\",password:\"\",avatar:\"\",background:\"\"},validationSchema:formSchema,onSubmit:function onSubmit(values,actions){fetch(\"http://localhost:5555/signup\",{method:\"POST\",crossDomain:true,headers:{\"content-type\":\"application/json\",Accept:\"application/json\",\"Access-control-Allow-Origin\":\"*\"},body:JSON.stringify(values)}).then(function(res){if(res.ok){res.json().then(function(data){actions.resetForm();navigate(\"/\");});}});}});return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formik.values.name,onChange:formik.handleChange,onBlur:formik.handleBlur}),formik.touched.username&&formik.errors.name?/*#__PURE__*/_jsx(\"h3\",{children:formik.errors.name}):\"\",/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",value:formik.values.username,onChange:formik.handleChange,onBlur:formik.handleBlur}),formik.touched.username&&formik.errors.username?/*#__PURE__*/_jsx(\"h3\",{children:formik.errors.username}):\"\",/*#__PURE__*/_jsx(\"label\",{children:\"Background\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"background\",value:formik.values.background,onChange:formik.handleChange,onBlur:formik.handleBlur}),formik.touched.background&&formik.errors.background?/*#__PURE__*/_jsx(\"h3\",{children:formik.errors.background}):\"\",/*#__PURE__*/_jsx(\"label\",{children:\"Profile Picture\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"avatar\",value:formik.values.avatar,onChange:formik.handleChange,onBlur:formik.handleBlur}),formik.touched.avatar&&formik.errors.avatar?/*#__PURE__*/_jsx(\"h3\",{children:formik.errors.avatar}):\"\",/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formik.values.password,onChange:formik.handleChange,onBlur:formik.handleBlur}),formik.touched.password&&formik.errors.password?/*#__PURE__*/_jsx(\"h3\",{children:formik.errors.password}):\"\",/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Sign Up\",className:\"button\"})]}),/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:function onClick(){return toggleSignup();},children:signUp||currentUser?\"\":\"Sign Up\"})})]});}export default Signup;","map":{"version":3,"names":["React","useNavigate","useState","useContext","useFormik","UserContext","yup","jsx","_jsx","jsxs","_jsxs","Signup","_useState","_useState2","_slicedToArray","signUp","setSignUp","_useContext","currentUser","navigate","toggleSignup","prev","formSchema","object","shape","username","string","required","password","name","avatar","background","min","max","formik","initialValues","validationSchema","onSubmit","values","actions","fetch","method","crossDomain","headers","Accept","body","JSON","stringify","then","res","ok","json","data","resetForm","children","className","handleSubmit","type","value","onChange","handleChange","onBlur","handleBlur","touched","errors","onClick"],"sources":["/Users/yemiarimoro/Development/code/Chat-app/Chat-app/client/src/Components/Signup.js"],"sourcesContent":["import React from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport { useState, useContext } from \"react\";\nimport { useFormik } from \"formik\";\nimport UserContext from \"./UserContext\";\n\nimport * as yup from \"yup\";\n\nfunction Signup() {\n\n\tconst [signUp, setSignUp] = useState(false);\n\tconst {currentUser} = useContext(UserContext);\n\t// 8a. create state error\n\n\tconst navigate = useNavigate();\n\tfunction toggleSignup(){\n\t\t setSignUp((prev) => !prev)};\n\n\tconst formSchema = yup.object().shape({\n\t\tusername: yup.string().required(),\n\t\tpassword: yup.string().required(),\n        name: yup.string().required(),\n        avatar: yup.string().required(),\n        background: yup.string().min(20, \"must be more!\").max(800, \"must be less than!\").required(),\n\t});\n\tconst formik = useFormik({\n\t\tinitialValues: {\n\t\t\tname: \"\",\n\t\t\tusername: \"\",\n            password: \"\",\n            avatar: \"\",\n            background: \"\",\n\t\t},\n\t\tvalidationSchema: formSchema,\n\t\tonSubmit: (values, actions) => {\n\t\t\tfetch( `http://localhost:5555/signup`, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tcrossDomain: true,\n\t\t\t\theaders: {\n\t\t\t\t\t\"content-type\": \"application/json\",\n\t\t\t\t\tAccept: \"application/json\",\n\t\t\t\t\t\"Access-control-Allow-Origin\":\"*\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(values),\n\t\t\t}).then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((data) => {\n\t\t\t\t\t\tactions.resetForm();\n\t\t\t\t\t\tnavigate(\"/\");\n\t\t\t\t\n\t\t\t\t\t});\n\t\t\t\t} \n\t\t\t});\n\t\t},\n\t});\n\n\treturn (\n\t\t<section>\n\t\t\t\t<form className=\"form\" onSubmit={formik.handleSubmit}>\n                <label>Name</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\tvalue={formik.values.name}\n\t\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\t\tonBlur={formik.handleBlur}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* formik.touched is enabled with onBlur */}\n\t\t\t\t\t{/* \n\t\t\t\t\t\t1. onBlur events - toggles formik.touched\n\t\t\t\t\t\t2. conditional: if formik.touched and formik.errors \n\t\t\t\t\t*/}\n\t\t\t\t\t{formik.touched.username && formik.errors.name ? (\n\t\t\t\t\t\t<h3>{formik.errors.name}</h3>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t)}\n\t\t\t\t\t<label>Username</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\tvalue={formik.values.username}\n\t\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\t\tonBlur={formik.handleBlur}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* formik.touched is enabled with onBlur */}\n\t\t\t\t\t{/* \n\t\t\t\t\t\t1. onBlur events - toggles formik.touched\n\t\t\t\t\t\t2. conditional: if formik.touched and formik.errors \n\t\t\t\t\t*/}\n\t\t\t\t\t{formik.touched.username && formik.errors.username ? (\n\t\t\t\t\t\t<h3>{formik.errors.username}</h3>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t)}\n                    <label>Background</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"background\"\n\t\t\t\t\t\tvalue={formik.values.background}\n\t\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\t\tonBlur={formik.handleBlur}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* formik.touched is enabled with onBlur */}\n\t\t\t\t\t{/* \n\t\t\t\t\t\t1. onBlur events - toggles formik.touched\n\t\t\t\t\t\t2. conditional: if formik.touched and formik.errors \n\t\t\t\t\t*/}\n\t\t\t\t\t{formik.touched.background && formik.errors.background ? (\n\t\t\t\t\t\t<h3>{formik.errors.background}</h3>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t)}\n                    <label>Profile Picture</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"avatar\"\n\t\t\t\t\t\tvalue={formik.values.avatar}\n\t\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\t\tonBlur={formik.handleBlur}\n\t\t\t\t\t/>\n\t\t\t\t\t{/* formik.touched is enabled with onBlur */}\n\t\t\t\t\t{/* \n\t\t\t\t\t\t1. onBlur events - toggles formik.touched\n\t\t\t\t\t\t2. conditional: if formik.touched and formik.errors \n\t\t\t\t\t*/}\n\t\t\t\t\t{formik.touched.avatar && formik.errors.avatar ? (\n\t\t\t\t\t\t<h3>{formik.errors.avatar}</h3>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t)}\n\t\t\t\t\t<label>Password</label>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\tvalue={formik.values.password}\n\t\t\t\t\t\tonChange={formik.handleChange}\n\t\t\t\t\t\tonBlur={formik.handleBlur}\n\t\t\t\t\t/>\n\t\t\t\t\t{formik.touched.password && formik.errors.password ? (\n\t\t\t\t\t\t<h3>{formik.errors.password}</h3>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t)}\n\t\t\t\t\t<input type=\"submit\" value=\"Sign Up\" className=\"button\" />\n\t\t\t\t\t{/* 8c. use conditional rendering to display the error to user */}\n\t\t\t\t</form>\n\t\t\t<section>\n\t\t\t\t<button className=\"button\" onClick={()=>toggleSignup()}>\n\t\t\t\t\t{(signUp || currentUser)? \"\" : \"Sign Up\"}\n\t\t\t\t</button>\n\t\t\t</section>\n\t\t</section>\n\t);\n}\n\nexport default Signup;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}